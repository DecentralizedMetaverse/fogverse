version: 1

messages:
  - name: RPC
    fields:
      - name: method
        type: string
      - name: args
        type: string
  - name: Location
    fields:
      - name: objId
        type: string
      - name: position
        type: Vector3
      - name: rotation
        type: Vector3
      - name: time
        type: float

  - name: Animation
    fields:
      - name: objId
        type: string
      - name: state
        type: string      
  
  - name: ChangeNametag
    fields:
      - name: objId
        type: string
      - name: nametag
        type: string

  - name: Chunk
    filelds:
      - name: chunk
        type: (int, int, int)
      - name: data
        type: string

  # - name: SpawnRequest
  #   fields:
  #     - name: location
  #       type: Vector3

  # - name: SpawnResponse
  #   fields:
  #     - name: success
  #       type: boolean
  #     - name: message
  #       type: string

  - name: Message
    fields:
      - name: content
        type: string

  - name: Log
    fields:
      - name: content
        type: string

  - name: ObjectInfoRequest
    fields:
      - name: objId
        type: string      

  - name: ObjectInfoResponse
    fields:
      - name: objId
        type: string      
      - name: cid
        type: string
      - name: objName
        type: string
      - name: position
        type: Vector3
      - name: rotation
        type: Vector3
      - name: components
        type: List<string>
      - name: childObjId
        type: List<byte[]>

  - name: ObjectChange
    fields:
      - name: objId
        type: string
      - name: cid
        type: string
    
  - name: GetUserList

  - name: GetUserListResponse
    fields:
      - name: ids
        type: List<string>
      - name: chunk
        type: string
  
  - name: UserDataRequest

  - name: UserDataResponse
    fields:
      - name: chunk
        type: (int, int, int)

  # - name: Offer
  #   fields:
  #     - name: target
  #       type: string
  #     - name: sdp
  #       type: string
  # - name: Answer
  #   fields:      
  #     - name: target
  #       type: string
  #     - name: sdp
  #       type: string
  # - name: Candidate
  #   fields:
  #     - name: target
  #       type: string
  #     - name: candidate
  #       type: string

  - name: Join
    fields:
      - name: joinIds
        type: List<string>
      - name: chunk
        type: string

  - name: Error
    fields:
      - name: message
        type: string